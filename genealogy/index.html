<html lang="hr">
<head>
  <title>Index rodoslovnih članaka</title>
  <meta charset="UTF-8">
  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" href="/genealogy/styles.css">
</head>
<body>
<header>
  <div>
      <p>Autor: Lovre Mitrović</p>
      <nav>
          <ul>
              <li><a href="/genealogy/">Početna</a></li>
              <li><a href="/">O meni</a></li>
          </ul>
      </nav>
  </div>
  <h1>Rodoslovlja</h1>
</header>
<main>
  <section id="section-menu">
    <ul id="index">
    </ul>
  </section>
</main>
<footer>
  <p>&copy; 2025 Lovre Mitrović</p>
</footer>
<script>
  Object.defineProperty(String.prototype, 'capitalize', {
    value: function() {
      return this.charAt(0).toUpperCase() + this.slice(1);
    },
    enumerable: false
  });

  (async () => {
    const response = await fetch('https://api.github.com/repos/LovreMitrovic/LovreMitrovic.github.io/contents/genealogy');
    const data = await response.json();
    const toIgnore = ["index.html","styles.css"]
    for (let file of data) {
        if(toIgnore.includes(file.name)){
            continue;
        }
      const path = "/" + file.path;
      const name = file.name.replaceAll('-',' ').capitalize();
      const template = document.querySelector('#template-menu-bullet')
      const bullet = document.importNode(template.content, true)
      bullet.querySelector("a").setAttribute("href",path);
      bullet.querySelector("h3").innerText = name;
      document.querySelector('#index').appendChild(bullet);
    }
    
  })()
</script>
<template id="template-menu-bullet">
  <li><a><h3></h3></a></li>
</template>
<body>
</html>